{% extends "master.html" %}

{% block head %}
<script src="{{ url_for('static', filename='js/create-ruleset.js') }}"></script>
{% endblock %}

{% block body %}
<div class="flex">
	<div class="flex vertical start" x-data="main">
		<h1>Create a Ruleset</h1>
		<form method="POST" class="interior flex vertical start">
			<input type="text" placeholder="Ruleset Name" name="name" id="name"style="width: auto">
			<textarea placeholder="Ruleset description" x-model="text"></textarea>
			<input type="hidden" name="text" id="text" x-model="text">
			<div class="interior flex horizontal center">
				<label for="shareable"><h3 style="width: auto">Make ruleset shareable?</h3></label>
				<select name="shareable" id="shareable"style="width: auto">
					<option value="True">Yes</option>
					<option value="False">No</option>
				</select>
			</div>
			<div class="interior flex horizontal center">
				<label for="base"><h3 style="width: auto">Template Ruleset:</h3></label>
				<select name="base" id="base" style="width: auto" x-model="base" @change="console.log(checkBase())" x-init="console.log(base)">
					<option value="">N/A</option>
					{% for ruleset in adminrulesets %}
					<option value="{{ ruleset.id }}">{{ ruleset.name }}</option>
					{% endfor %}
					{% for ruleset in frulesets %}
					<option value="{{ ruleset.id }}">{{ ruleset.name }}</option>
					{% endfor %}
				</select>
			</div>
			<div class="flex vertical start mild danger" x-show="checkBase()">
				<h2>Warning</h2>
				<p>Creating a ruleset with no template ruleset is not recommended. Without a template ruleset, there will be <em>no information</em> in the ruleset to start with. This can make it very difficult to create a usable set of rules, since there will be no ability scores, skills, items, item types, weapon properties, et cetera to mention in homebrew races, backgrounds, classes, and the like.</p>
			</div>
			<a><button type="submit">Create Ruleset</button></a>
		</form>
		<h2>Ruleset Description:</h2>
		<hr>
		<div class="usercontent" x-html="convert(text)"></div>
	</div>
</div>

{% endblock %}
